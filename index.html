<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"></script>
    <script type="text/javascript" src="js/pako.js"></script>

    <script src="js/gemcraftchasingshadows.js"></script>
    <script src="js/hollowknight.js"></script>
    <script src="js/idleresearch.js"></script>
    <script src="js/idlespiral.js"></script>
    <script src="js/incrementaladventures.js"></script>

    <link rel="stylesheet" href="css/style.css">
    <script>
      const PasswordDeriveBytes = ( password ) => {
        var key = CryptoJS.enc.Utf8.parse( password );
        for (let i = 0; i < 99; i++)
          key = CryptoJS.SHA1(key)
        return (CryptoJS.SHA1(key).toString() + CryptoJS.SHA1(CryptoJS.enc.Hex.parse("31"+key.toString())).toString()).substring(0, 64);
      }
    </script>
    <script>
      function changeEditor ( ) {
        const option = document.getElementById('option').value
        if ( option === 'gemcraftchasingshadows' )
          changeEditorGemCraftChasingShadows()
        if ( option === 'hollowknight' )
          changeEditorHollowKnight()
        if ( option === 'idlespiral' )
          changeEditorIdleSpiral()
        if ( option === 'idleresearch' )
          changeEditorIdleResearch()
        if ( option === 'incrementaladventures' )
          changeEditorIncrementalAdventures()
      }

      function addLoadButton ( elem ) {
        const button = document.createElement('input')
        button.type = 'file'
        elem.appendChild(button)
        return button
      }
      function addTextarea ( elem, disabled = false ) {
        const textarea = document.createElement('textarea')
        textarea.classList.add('column1')
        textarea.disabled = disabled
        elem.appendChild(textarea)
        return textarea
      }
      function addDivider ( elem, text, hovertext = '' ) {
        var divider = document.createElement('div')
        divider.classList.add('divider')
        divider.innerHTML = text
        if ( hovertext !== '' )
          divider.title = hovertext
        elem.appendChild(divider)
        return divider
      }
      function addColumns ( elem, count ) {
        var divs = []
        for ( let i = 0; i < count; ++i ) {
          const column = document.createElement('div')
          column.classList.add('column' + count)
          elem.appendChild(column)
          divs.push(column)
        }
        return divs
      }
      function addSaveButton ( elem ) {
        const button = document.createElement('input')
        button.type = 'button'
        button.value = 'Save'
        elem.appendChild(button)
        return button
      }
    </script>
  </head>
  <body>
    <div>
      <div id="main">
        <div id="header">
          <select id="option" onchange="changeEditor()">
            <option hidden disabled selected value> -- select an option -- </option>
            <option value="gemcraftchasingshadows">GemCraft - Chasing Shadows</option>
            <option value="hollowknight">Hollow Knight</option>
            <option value="idleresearch">Idle Research</option>
            <option value="idlespiral">Idle Spiral</option>
            <option value="incrementaladventures">Incremental Adventures</option>
          </select>
        </div>
        <div id="editor">

        </div>
      </div>
    </div>
  </body>
</html>
